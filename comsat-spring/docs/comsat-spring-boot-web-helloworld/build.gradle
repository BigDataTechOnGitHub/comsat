apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = '1.7'

mainClassName = 'comsat.spring.boot.web.Test'

repositories {
    mavenLocal()
    mavenCentral()
}

configurations {
    quasar

    all*.exclude group: "org.apache.logging.log4j", module: "*"
}

dependencies {
    compile "co.paralleluniverse:comsat-spring-web:0.3.0-SNAPSHOT"

    compile "co.paralleluniverse:quasar-core:0.6.2-SNAPSHOT"

    quasar "co.paralleluniverse:quasar-core:0.6.2-SNAPSHOT"
}

run {
    jvmArgs "-XX:+UnlockCommercialFeatures", "-XX:+FlightRecorder", "-javaagent:${configurations.quasar.iterator().next()}=m" // gradle should make this simpler, too
//    systemProperty "co.paralleluniverse.actors.moduleDir", "${rootProject.projectDir}/modules"
//    systemProperty "co.paralleluniverse.fibers.verifyInstrumentation", "true"
    args "--debug"
}
